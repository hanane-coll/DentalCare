<div th:fragment="link" th:remove="tag">
    <title>Sudo Dental</title>
    <link rel="icon" th:href="@{/dist/img/logo2.png}">
    <!-- Ionicons -->
    <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css">
    <!-- Theme style -->
    <link rel="stylesheet" th:href="@{/dist/css/Adminlte.css}">
    <!-- iCheck button radio -->
    <link rel="stylesheet" th:href="@{/plugins/icheck-bootstrap/icheck-bootstrap.min.css}">

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" th:href="@{plugins/fontawesome-free/css/all.min.css}">
    <!-- DataTables -->
    <link rel="stylesheet" th:href="@{plugins/datatables-bs4/css/dataTables.bootstrap4.min.css}">
    <link rel="stylesheet" th:href="@{plugins/datatables-responsive/css/responsive.bootstrap4.min.css}">
    <link rel="stylesheet" th:href="@{plugins/datatables-buttons/css/buttons.bootstrap4.min.css}">
    <!-- daterange picker -->
    <link rel="stylesheet" th:href="@{plugins/daterangepicker/daterangepicker.css}">
    <!-- Bootstrap Color Picker -->
    <link rel="stylesheet" th:href="@{plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css}">
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet" th:href="@{plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css}">
    <!-- Select2 -->
    <link rel="stylesheet" th:href="@{plugins/select2/css/select2.min.css}">
    <link rel="stylesheet" th:href="@{plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css}">
    <!-- Bootstrap4 Duallistbox -->
    <link rel="stylesheet" th:href="@{plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css}">
    <!-- BS Stepper -->
    <link rel="stylesheet" th:href="@{plugins/bs-stepper/css/bs-stepper.min.css}">
    <!-- fullCalendar -->
    <link rel="stylesheet" href="plugins/fullcalendar/main.css">
    <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">

</div>

<div th:fragment="header" th:remove="tag">

 <!--   <div class="preloader flex-column justify-content-center align-items-center">
        <img class="animation__shake" src="dist/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">
      </div>-->
    
    <!-- Navbar -->
      <nav class="main-header navbar navbar-expand navbar-dark text-sm d-flex flex-row-reverse">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
          <li class="nav-item ">
            <a href="/logout" class="nav-link btn btn-outline-secondary">Deconnexion</a>
          </li>
        </ul>
      </nav>
</div>

<div th:fragment="menu" th:remove="tag">
<!-- Main Sidebar Container -->
<aside class="main-sidebar sidebar-dark-success elevation-4">
    <!-- Brand Logo -->
    <a href="#" class="brand-link">
      <img th:src="@{/dist/img/logo2.png}" alt="logo sudo dental" class="brand-image img-circle elevation-3">
      <span class="brand-text font-weight-light">SudoDental</span>
    </a>
  
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
          <th:block sec:authorize="hasAuthority('MED')">
        <div class="image">
          <img th:src="@{/dist/img/med.png}" class="img-circle elevation-2" alt="User Image">
        </div>
        <div class="info">
          <a class="d-block">Medecin</a>
        </div>
          </th:block>
          <th:block sec:authorize="hasAuthority('SEC')">
              <div class="image">
                  <img th:src="@{/dist/img/sec.png}" class="img-circle elevation-2" alt="User Image">
              </div>
              <div class="info">
                  <a class="d-block">Infermiere</a>
              </div>
          </th:block>
      </div>
  
      <!-- SidebarSearch Form -->
      <div class="form-inline">
        <div class="input-group" data-widget="sidebar-search">
          <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
          <div class="input-group-append">
            <button class="btn btn-sidebar">
              <i class="fas fa-search fa-fw"></i>
            </button>
          </div>
        </div>
      </div>
  
      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <!--data-widget="treeview" permet de ramasser la liste de gestion  -->
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" >
         <!-- GO TO PAGE EXAMPLES -->
            <li class="nav-item">
                <a href="/Dashboard" th:class="${active eq 'Dashboard'? 'nav-link active' : 'nav-link'}">
                    <i class="nav-icon fas fa-tachometer-alt"></i>
                    <p>
                        dashboard
                    </p>
                </a>
            </li>
         <!-- GESTION -->
          <li class="nav-header">GESTION</li>
          <li class="nav-item">
            <a href="/Patients" th:class="${active eq 'Patient'? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas fa-bed"></i>
              <p>
                Patient
              </p>
            </a>
          </li>
          <li class="nav-item">
            <!-- <a href="pages/calendar.html" class="nav-link"> -->
            <a href="/Rdvs" th:class="${active eq 'Rdv'? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas fa-calendar-alt"></i>
              <p>
                Rendez vous
                <!-- <span class="badge badge-info right">2</span> -->
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="/Attente" th:class="${active eq 'Attente'? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas fa-user-clock"></i>
              <p>
                Salle d'attente
              </p>
            </a>
          </li>
          <th:block sec:authorize="hasAuthority('MED')">
          <!-- ADMINISTRATION -->
          <li class="nav-header">ADMINISTRATION</li>
          <li class="nav-item">
            <a href="/Depenses" th:class="${active eq 'GDepense'? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas  fa-book-medical"></i>
              <p>
                Depense
              </p>
            </a>
          </li>
          <li class="nav-item">
            <!-- <a href="pages/calendar.html" class="nav-link"> -->
            <a href="/Tresorier" th:class="${active eq 'Tresorier'? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas fa-money-bill-wave"></i>
              <p>
                Tresorier
                <!-- <span class="badge badge-info right">2</span> -->
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" th:class="${active eq 'Gacte' or active eq 'Gmedicament' ? 'nav-link active' : 'nav-link'}">
              <i class="nav-icon fas fa-wrench"></i>
              <p>
                Reglage
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/Actes" th:class="${active eq 'Gacte' ? 'nav-link active' : 'nav-link'}">
                  <i class="fa fa-hospital nav-icon"></i>
                  <p>Gestion des Actes</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="/Medicaments" th:class="${active eq 'Gmedicament' ? 'nav-link active' : 'nav-link'}">
                  <i class="fa fa-medkit nav-icon"></i>
                  <p>Gestion Medicaments</p>
                </a>
              </li>
            </ul>
          </li>
          </th:block>
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>


</div>
<div th:fragment="footer">

  <!-- Main Footer -->
  <footer class="main-footer text-sm">
    
</footer>
</div>

<div th:fragment="script" th:remove="tag">
    <!-- REQUIRED SCRIPTS -->
<!-- jQuery 3 -->
<script th:src="@{/plugins/jquery/jquery.min.js}"></script>
<!-- Bootstrap 4 -->
<script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
<!-- AdminLte -->
<script th:src="@{/dist/js/adminlte.min.js}"></script>
 <!-- demo -->
 <script th:src="@{dist/js/demo.js}"></script>

    <!-- DataTables  & Plugins -->
    <script th:src="@{plugins/datatables/jquery.dataTables.min.js}"></script>
    <script th:src="@{plugins/datatables-bs4/js/dataTables.bootstrap4.min.js}"></script>
    <script th:src="@{plugins/datatables-responsive/js/dataTables.responsive.min.js}"></script>
    <script th:src="@{plugins/datatables-responsive/js/responsive.bootstrap4.min.js}"></script>
    <script th:src="@{plugins/jszip/jszip.min.js}"></script>
    <script th:src="@{plugins/datatables-buttons/js/buttons.html5.min.js}"></script>
    <script th:src="@{plugins/datatables-buttons/js/buttons.print.min.js}"></script>
    <script th:src="@{plugins/datatables-buttons/js/buttons.colVis.min.js}"></script>

    </script>
    <!-- Select2 -->
    <script th:src="@{plugins/select2/js/select2.full.min.js}"></script>
    <!-- Bootstrap4 Duallistbox -->
    <script th:src="@{plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js}"></script>
    <!-- InputMask -->
    <script th:src="@{plugins/moment/moment.min.js}"></script>
    <script th:src="@{plugins/inputmask/jquery.inputmask.min.js}"></script>
    <!-- date-range-picker -->
    <script th:src="@{plugins/daterangepicker/daterangepicker.js}"></script>
    <!-- bootstrap color picker -->
    <script th:src="@{plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js}"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script th:src="@{plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js}"></script>
    <!-- Bootstrap Switch -->
    <script th:src="@{plugins/bootstrap-switch/js/bootstrap-switch.min.js}"></script>
    <!-- BS-Stepper -->
    <script th:src="@{plugins/bs-stepper/js/bs-stepper.min.js}"></script>
    <!-- dropzonejs -->
    <script th:src="@{plugins/dropzone/min/dropzone.min.js}"></script>

    <!-- Page specific script -->

    <script>
        $(function () {
            //Initialize Select2 Elements
            $('.select2').select2()
        })
    </script>


    <script th:inline="javascript">
        $("#selectActe2").change(function() {
            var actes = [[${actes}]];
            var getMontant = function (actes, acte) {
                var returnMontant = 0;
                $.each(actes, function (key, info) {
                    if (info.nomA == acte) {
                        returnMontant = info.montant;
                        return false;
                    };
                });
                return returnMontant;
            };
            var getnbrSeance = function (actes, acte) {
                var returnnbrSeance = 0;
                $.each(actes, function (key, info) {
                    if (info.nomA == acte) {
                        returnnbrSeance = info.nbrSce;
                        return false;
                    };
                });
            return returnnbrSeance;
        };
            $('#inputnbrSeance').val(getnbrSeance(actes,$(this).children("option:selected").val()));
            $('#inputMontant').val(getMontant(actes,$(this).children("option:selected").val()));
        });

        var i=1;
        function create_div(){
            var medicaments = [[${medicaments}]];
            let div_p = document.getElementById("div_parent");
            var div = document.createElement("div");
            div.classList.add("row");
            var div2=document.createElement("div");
            div2.classList.add("form-group","mr-3");
            var label1=document.createElement("label");
            var labelcnt1=document.createTextNode("Medicament");
            label1.appendChild(labelcnt1);
            var select=document.createElement("select");
            select.classList="form-control";
            select.classList+=" select2";
            select.setAttribute("name","medicamentDTOList["+i+"].medicamentId")
            for(const medicament of medicaments){
                var opt=document.createElement("option");
                opt.innerHTML=medicament['type']+"  "+medicament['nomM'];
                opt.setAttribute("value",medicament['id']);
                select.appendChild(opt);
            }
            var div3=document.createElement("div");
            div3.classList.add("form-group");
            var label2=document.createElement("label");
            label2.setAttribute("for","inputProjectLeader");
            var labelcnt2=document.createTextNode("Dosage");
            label2.appendChild(labelcnt2);
            var input=document.createElement("input");
            input.setAttribute("type","text");
            input.setAttribute("id","inputProjectLeader");
            input.setAttribute("class","form-control");
            input.setAttribute("name","medicamentDTOList["+i+"].dosage");
            div3.appendChild(label2);
            div3.appendChild(input);
            div2.appendChild(label1);
            div2.appendChild(select);
            div.appendChild(div2);
            div.appendChild(div3);
            div_p.append(div);
            $('.select2').select2();
            i++;
        }
    </script>

</div>